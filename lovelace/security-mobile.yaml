anchors:
  presence_button: &presencebutton
    tap_action:
      action: more-info
    layout: icon_name
    icon: 'mdi:account'
    show_label: false
    state:
      - styles:
          icon:
            - color: 'rgb(34,109,14)'
        value: 'home'
      - styles:
          icon:
            - color: '#303741'
        value: 'not_home'
    styles:
      card:
        - font-size: 20px
        - border-radius: 10px
        - background: 'rgba(255,255,255,0.45)'
        - height: 43px
        - padding: 0px
      icon:
        - width: 40px
      grid:
        - grid-template-areas: '"i n" "i n" "i n"'
      name:
        - padding-right: 30px
    type: 'custom:button-card'
  spacer: &spacer
    type: 'custom:button-card'
    color_type: blank-card
    styles:
      card:
        - width: 2px
background: center / cover no-repeat url("/local/images/day.jpg") fixed
badges: []
cards:
    - type: horizontal-stack
      cards:
        - <<: *spacer
        - <<: *presencebutton
          entity: device_tracker.alex
          name: Alex
        - <<: *presencebutton
          entity: device_tracker.julie
          name: Julie
        - <<: *spacer
    - type: horizontal-stack
      cards:
        - <<: *spacer
        - hold_action:
            action: more-info
          tap_action:
            action: call-service
            service: mqtt.publish
            service_data:
              topic: "homeassistant/garage/command"
              payload: "toggle"
          layout: icon_name_state2nd
          show_label: true
          label_template: >
            return states['sensor.garage_door'].state;
          state:
            - icon: 'mdi:garage-open'
              operator: template
              value: >
                return states['sensor.garage_door'].state === 'Open';
            - icon: 'mdi:arrow-up-bold-circle'
              operator: template
              value: >
                return states['sensor.garage_door'].state === 'Opening';
            - icon: 'mdi:arrow-down-bold-circle'
              operator: template
              value: >
                return states['sensor.garage_door'].state === 'Closing';
            - icon: 'mdi:garage'
              operator: 'default'
          styles:
            grid:
              - grid-template-areas: '"i n" "i s" "i l"'
              - grid-template-columns: 110px auto
            card:
              - font-size: 20px
              - border-radius: 10px
              - background: 'rgba(255,255,255,0.45)'
              - height: 65px
              - padding: 0px
            icon:
              - color: '#303741'
              - width: 40px
            img_cell:
              - justify-self: end
              - text-align: end
            name:
              - padding-right: 20px
            label:
              - font-size: 15px
              - padding-top: 6px
              - padding-right: 10px
          type: 'custom:button-card'
          entity: sensor.garage_door
          name: Garage Door
        - <<: *spacer
    - type: glance
      title: Doors
      entities:
        - entity: binary_sensor.front_door
          name: Front
          icon: mdi:door
        - entity: binary_sensor.garage_entry_door
          name: Garage
          icon: mdi:door
        - entity: binary_sensor.upstairs_back_door
          name: Deck
          icon: mdi:door
        - entity: binary_sensor.downstairs_back_door
          name: Patio
          icon: mdi:door
icon: 'mdi:shield-home'
title: Security